---
import Layout from '../layouts/BlogPost.astro';

const pageTitle = "Share Your Tale";
const pageDescription = "Share your exceptional 19th hole moments with the Order for preservation in the Tales";
---

<Layout title={pageTitle} description={pageDescription} pubDate={new Date()} showHeader={false}>
  <style is:global>
    /* Hide the ShareButtons and PostMeta */
    .prose > div:first-child,
    .prose > div:nth-child(2) {
      display: none !important;
    }
    /* Hide the footer on this page */
    footer#contact {
      display: none !important;
    }
  </style>

  <!-- Hero Section -->
  <section class="w-full py-16 md:py-24">
    <div class="mx-auto max-w-4xl px-4">
      <h1 class="mb-6 text-4xl md:text-5xl lg:text-6xl font-bold text-center text-[#0ea472]">
        Share Your Tale
      </h1>
      <p class="text-xl md:text-2xl text-center text-neutral-700 dark:text-neutral-300 mb-8 max-w-3xl mx-auto leading-relaxed">
        Have you witnessed something exceptional at a 19th hole? Share it with the Curators for consideration
      </p>
    </div>
  </section>

  <!-- What We're Looking For Section -->
  <section class="w-full py-12 bg-neutral-50 dark:bg-neutral-900/50">
    <div class="mx-auto max-w-4xl px-4">
      <h2 class="text-3xl font-bold mb-8 text-center text-neutral-800 dark:text-neutral-100">
        What We're Looking For
      </h2>
      
      <div class="space-y-6">
        <!-- Item 1 -->
        <div class="p-6 bg-white dark:bg-neutral-800 rounded-lg border-l-4 border-[#0ea472]">
          <h3 class="text-xl font-bold mb-2 text-neutral-800 dark:text-neutral-100">
            Legendary Moments
          </h3>
          <p class="text-neutral-700 dark:text-neutral-300 leading-relaxed">
            Stories where the 19th hole became the stage for something unforgettable—a wager settled, a friendship forged, a truth revealed.
          </p>
        </div>

        <!-- Item 2 -->
        <div class="p-6 bg-white dark:bg-neutral-800 rounded-lg border-l-4 border-[#0ea472]">
          <h3 class="text-xl font-bold mb-2 text-neutral-800 dark:text-neutral-100">
            Historical Significance
          </h3>
          <p class="text-neutral-700 dark:text-neutral-300 leading-relaxed">
            Tales from the past that shaped the tradition—forgotten clubs, lost customs, or moments that defined what the 19th hole truly means.
          </p>
        </div>

        <!-- Item 3 -->
        <div class="p-6 bg-white dark:bg-neutral-800 rounded-lg border-l-4 border-[#0ea472]">
          <h3 class="text-xl font-bold mb-2 text-neutral-800 dark:text-neutral-100">
            Exceptional Venues
          </h3>
          <p class="text-neutral-700 dark:text-neutral-300 leading-relaxed">
            Discoveries of remarkable 19th holes—hidden gems, historic clubhouses, or places where the spirit of fellowship still burns bright.
          </p>
        </div>

        <!-- Item 4 -->
        <div class="p-6 bg-white dark:bg-neutral-800 rounded-lg border-l-4 border-[#0ea472]">
          <h3 class="text-xl font-bold mb-2 text-neutral-800 dark:text-neutral-100">
            Wisdom & Philosophy
          </h3>
          <p class="text-neutral-700 dark:text-neutral-300 leading-relaxed">
            Reflections on what makes the 19th hole sacred—lessons learned, traditions upheld, or insights into the deeper meaning of gathering after the round.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Submission Guidelines Callout -->
  <section class="w-full py-8">
    <div class="mx-auto max-w-3xl px-4">
      <div class="p-6 md:p-8 bg-[#0ea472]/10 dark:bg-[#0ea472]/5 rounded-xl border-2 border-[#0ea472]/30">
        <div class="flex items-start gap-4">
          <div class="flex-shrink-0 mt-1">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-[#0ea472]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <div class="space-y-3">
            <p class="text-base md:text-lg text-neutral-800 dark:text-neutral-200 leading-relaxed">
              <strong class="text-[#0ea472]">Quality over quantity.</strong> The Curators seek stories that deserve preservation—tales that will be read decades from now.
            </p>
            <p class="text-base md:text-lg text-neutral-800 dark:text-neutral-200 leading-relaxed">
              Write with care. Every submission is reviewed personally.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Submission Form Section -->
  <section class="w-full py-16">
    <div class="mx-auto max-w-3xl px-4">
      <h2 class="text-3xl font-bold mb-4 text-center text-neutral-800 dark:text-neutral-100">
        Share Your Tale
      </h2>
      <p class="text-center text-neutral-700 dark:text-neutral-300 mb-8">
        All fields are required unless marked optional
      </p>

      <!-- Form -->
      <form id="storyForm" class="space-y-6 p-8 bg-neutral-50 dark:bg-neutral-900/50 rounded-xl">
        <!-- Your Name -->
        <div>
          <label for="authorName" class="block text-sm font-medium mb-2 text-neutral-800 dark:text-neutral-200">
            Your Name <span class="text-[#0ea472]">*</span>
          </label>
          <input 
            type="text" 
            id="authorName" 
            name="authorName" 
            required
            class="w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200 focus:ring-2 focus:ring-[#0ea472] focus:border-transparent"
            placeholder="How should we credit you?"
          />
        </div>

        <!-- Email -->
        <div>
          <label for="email" class="block text-sm font-medium mb-2 text-neutral-800 dark:text-neutral-200">
            Email Address <span class="text-[#0ea472]">*</span>
          </label>
          <input 
            type="email" 
            id="email" 
            name="email" 
            required
            class="w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200 focus:ring-2 focus:ring-[#0ea472] focus:border-transparent"
            placeholder="your.email@example.com"
          />
          <p class="mt-2 text-sm text-neutral-600 dark:text-neutral-400">
            Used only to contact you if your story is selected
          </p>
        </div>

        <!-- Member ID (Optional) -->
        <div>
          <label for="memberId" class="block text-sm font-medium mb-2 text-neutral-800 dark:text-neutral-200">
            Member ID <span class="text-neutral-500">(optional)</span>
          </label>
          <input 
            type="text" 
            id="memberId" 
            name="memberId"
            class="w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200 focus:ring-2 focus:ring-[#0ea472] focus:border-transparent"
            placeholder="e.g., XIX-123"
          />
          <p class="mt-2 text-sm text-neutral-600 dark:text-neutral-400">
            If you're an Associate, include your Member ID for recognition
          </p>
        </div>

        <!-- Story Title -->
        <div>
          <label for="storyTitle" class="block text-sm font-medium mb-2 text-neutral-800 dark:text-neutral-200">
            Story Title <span class="text-[#0ea472]">*</span>
          </label>
          <input 
            type="text" 
            id="storyTitle" 
            name="storyTitle" 
            required
            class="w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200 focus:ring-2 focus:ring-[#0ea472] focus:border-transparent"
            placeholder="What should we call this tale?"
          />
        </div>

        <!-- Story Type -->
        <div>
          <label for="storyType" class="block text-sm font-medium mb-2 text-neutral-800 dark:text-neutral-200">
            Story Type <span class="text-[#0ea472]">*</span>
          </label>
          <select 
            id="storyType" 
            name="storyType" 
            required
            class="w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200 focus:ring-2 focus:ring-[#0ea472] focus:border-transparent"
          >
            <option value="">Choose a category...</option>
            <option value="legendary-moment">Legendary Moment</option>
            <option value="historical">Historical Tale</option>
            <option value="venue-discovery">Exceptional Venue</option>
            <option value="wisdom">Wisdom & Philosophy</option>
            <option value="other">Other</option>
          </select>
        </div>

        <!-- Location (Optional) -->
        <div>
          <label for="location" class="block text-sm font-medium mb-2 text-neutral-800 dark:text-neutral-200">
            Location <span class="text-neutral-500">(optional)</span>
          </label>
          <input 
            type="text" 
            id="location" 
            name="location"
            class="w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200 focus:ring-2 focus:ring-[#0ea472] focus:border-transparent"
            placeholder="Where did this take place?"
          />
        </div>

        <!-- Year/Era (Optional) -->
        <div>
          <label for="timeframe" class="block text-sm font-medium mb-2 text-neutral-800 dark:text-neutral-200">
            Year or Era <span class="text-neutral-500">(optional)</span>
          </label>
          <input 
            type="text" 
            id="timeframe" 
            name="timeframe"
            class="w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200 focus:ring-2 focus:ring-[#0ea472] focus:border-transparent"
            placeholder="e.g., 1952, Early 2000s, Summer of '87"
          />
        </div>

        <!-- The Story -->
        <div>
          <label for="storyContent" class="block text-sm font-medium mb-2 text-neutral-800 dark:text-neutral-200">
            Your Story <span class="text-[#0ea472]">*</span>
          </label>
          <textarea 
            id="storyContent" 
            name="storyContent" 
            required
            rows="12"
            class="w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200 focus:ring-2 focus:ring-[#0ea472] focus:border-transparent resize-y"
            placeholder="Tell us the tale. Write as if you're speaking at the 19th hole itself—with detail, atmosphere, and respect for the tradition."
          ></textarea>
          <p class="mt-2 text-sm text-neutral-600 dark:text-neutral-400">
            Minimum 200 words. Take your time—quality submissions receive priority review.
          </p>
        </div>

        <!-- How You Heard About This -->
        <div>
          <label for="source" class="block text-sm font-medium mb-2 text-neutral-800 dark:text-neutral-200">
            How did you hear this story? <span class="text-[#0ea472]">*</span>
          </label>
          <select 
            id="source" 
            name="source" 
            required
            class="w-full px-4 py-3 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200 focus:ring-2 focus:ring-[#0ea472] focus:border-transparent"
          >
            <option value="">Choose one...</option>
            <option value="witnessed">I witnessed it personally</option>
            <option value="told-firsthand">Told to me firsthand</option>
            <option value="local-legend">Local legend/oral tradition</option>
            <option value="historical-research">Historical research</option>
            <option value="other">Other</option>
          </select>
        </div>

        <!-- Publication Consent -->
        <div class="space-y-3">
          <div class="flex items-start">
            <input 
              type="checkbox" 
              id="publicationConsent" 
              name="publicationConsent" 
              required
              class="mt-1 h-4 w-4 text-[#0ea472] border-neutral-300 dark:border-neutral-600 rounded focus:ring-[#0ea472]"
            />
            <label for="publicationConsent" class="ml-3 text-sm text-neutral-700 dark:text-neutral-300">
              I grant the Order permission to publish this story in the Tales, with proper credit given <span class="text-[#0ea472]">(required)</span>
            </label>
          </div>
        </div>

        <!-- Submit Button -->
        <button 
          type="submit"
          class="w-full px-8 py-4 bg-[#0ea472] !text-white font-semibold rounded-lg hover:bg-[#0c8a5f] active:bg-[#0a7350] transition-colors duration-200 shadow-lg hover:shadow-xl"
        >
          Submit Your Story
        </button>

        <!-- Success/Error Messages -->
        <div id="formMessage" class="hidden mt-4 p-4 rounded-lg"></div>
      </form>
    </div>
  </section>

  <!-- What Happens Next Section -->
  <section class="w-full py-12 bg-neutral-50 dark:bg-neutral-900/50">
    <div class="mx-auto max-w-4xl px-4">
      <h2 class="text-2xl font-bold mb-6 text-center text-neutral-800 dark:text-neutral-100">
        What Happens Next
      </h2>
      
      <div class="space-y-6 text-neutral-700 dark:text-neutral-300">
        <div class="p-6 bg-white dark:bg-neutral-800 rounded-lg">
          <h3 class="font-bold text-neutral-800 dark:text-neutral-100 mb-2">Review by the Curators</h3>
          <p class="leading-relaxed">
            Every submission is read personally by the Order's Curators. We look for authenticity, quality of writing, and stories that embody the spirit of the 19th hole tradition.
          </p>
        </div>

        <div class="p-6 bg-white dark:bg-neutral-800 rounded-lg">
          <h3 class="font-bold text-neutral-800 dark:text-neutral-100 mb-2">Selection for Publication</h3>
          <p class="leading-relaxed">
            If your story is chosen, we'll contact you via email to confirm details and prepare it for publication in the Tales. Selected authors receive recognition and, if they're Associates, may be invited to advance in title.
          </p>
        </div>

        <div class="p-6 bg-white dark:bg-neutral-800 rounded-lg">
          <h3 class="font-bold text-neutral-800 dark:text-neutral-100 mb-2">Respectful Consideration</h3>
          <p class="leading-relaxed">
            Not every story will be published, but every story matters. Even if yours isn't selected this time, we encourage you to continue sharing. The act of preservation is itself an honor.
          </p>
        </div>

        <div class="p-6 bg-white dark:bg-neutral-800 rounded-lg">
          <h3 class="font-bold text-neutral-800 dark:text-neutral-100 mb-2">Your Privacy is Sacred</h3>
          <p class="leading-relaxed">
            Your email and personal details are used only for communication about your submission. We never share, sell, or distribute your information. Discretion is a cornerstone of the Order.
          </p>
        </div>
      </div>
    </div>
  </section>

  <script>
    // Form submission handler
    document.getElementById('storyForm')?.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const form = e.target as HTMLFormElement;
      const formData = new FormData(form);
      const messageDiv = document.getElementById('formMessage');
      
      if (!messageDiv) return;

      // Show loading state
      const submitButton = form.querySelector('button[type="submit"]') as HTMLButtonElement;
      const originalText = submitButton.textContent;
      submitButton.disabled = true;
      submitButton.textContent = 'Submitting...';

      try {
        // TODO: Replace with actual API endpoint
        const response = await fetch('/api/submit-story', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(Object.fromEntries(formData)),
        });

        if (response.ok) {
          messageDiv.className = 'mt-4 p-4 rounded-lg bg-[#0ea472]/10 border-2 border-[#0ea472] text-neutral-800 dark:text-neutral-200';
          messageDiv.textContent = 'Your story has been submitted successfully. The Curators will review it with care.';
          messageDiv.classList.remove('hidden');
          form.reset();
        } else {
          throw new Error('Submission failed');
        }
      } catch (error) {
        messageDiv.className = 'mt-4 p-4 rounded-lg bg-red-50 border-2 border-red-500 text-red-800 dark:bg-red-900/20 dark:text-red-200';
        messageDiv.textContent = 'There was an error submitting your story. Please try again or contact us directly.';
        messageDiv.classList.remove('hidden');
      } finally {
        submitButton.disabled = false;
        submitButton.textContent = originalText;
      }
    });
  </script>
</Layout>
